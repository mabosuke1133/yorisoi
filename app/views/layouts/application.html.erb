<!DOCTYPE html>
<html>
  <head>
    <title>Yorisoi</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%# Bootstrap„ÅÆÂ∞éÂÖ• %>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <%# ÁÆ°ÁêÜËÄÖ„É≠„Ç∞„Ç§„É≥ÊôÇ„Å†„ÅëËÉåÊôØËâ≤„ÇíÂ∞ë„ÅóÂ§â„Åà„ÇãÂ∑•Â§´ %>
  <body class="<%= 'bg-light' if admin_signed_in? %>">

    <header>
      <%# „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„ÉºÔºöbg-whiteÔºàÁôΩÔºâ„Å®shadow-smÔºàËªΩ„ÅÑÂΩ±Ôºâ„ÅßÊ∏ÖÊΩîÊÑü„ÇíÂá∫„Åô %>
      <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm mb-4">
        <div class="container">
          <%# „É≠„Ç¥ÈÉ®ÂàÜÔºötext-success„Åß„ÄåÂØÑ„ÇäÊ∑ª„ÅÑ„Äç„Çâ„Åó„ÅÑÁ∑ëËâ≤„Å´ %>
          <%= link_to 'Yorisoi', root_path, class: 'navbar-brand font-weight-bold text-success' %>
          
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto align-items-center">
              <% if admin_signed_in? %>
                <li class="nav-item border-right pr-2 mr-2"><span class="badge badge-dark">ÁÆ°ÁêÜËÄÖ„É¢„Éº„Éâ</span></li>
                <li class="nav-item"><%= link_to '„É¶„Éº„Ç∂„Éº‰∏ÄË¶ß', admin_users_path, class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to 'ÊäïÁ®øÁÆ°ÁêÜ', admin_posts_path, class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to '„É≠„Ç∞„Ç¢„Ç¶„Éà', destroy_admin_session_path, class: 'nav-link' %></li>

              <% elsif user_signed_in? %>
                <li class="nav-item"><%= link_to 'ÊäïÁ®ø‰∏ÄË¶ß', posts_path, class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to 'Êñ∞Ë¶èÊäïÁ®ø', new_post_path, class: 'nav-link btn btn-outline-success btn-sm mx-2' %></li>
                <li class="nav-item"><%= link_to '„Éû„Ç§„Éö„Éº„Ç∏', user_path(current_user), class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to '„É≠„Ç∞„Ç¢„Ç¶„Éà', destroy_user_session_path, class: 'nav-link' %></li>
              
              <% else %>
                <li class="nav-item"><%= link_to 'About', about_path, class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to 'Êñ∞Ë¶èÁôªÈå≤', new_user_registration_path, class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to '„É≠„Ç∞„Ç§„É≥', new_user_session_path, class: 'nav-link' %></li>
                <li class="nav-item"><%= link_to 'ÁÆ°ÁêÜËÄÖÁî®', new_admin_session_path, class: 'nav-link small text-muted' %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </nav>

      <%# „Éï„É©„ÉÉ„Ç∑„É•„É°„ÉÉ„Çª„Éº„Ç∏ÔºöBootstrap„ÅÆalert„ÇØ„É©„Çπ„ÇíÈÅ©Áî® %>
      <div class="container">
        <% if notice %>
          <div class="alert alert-success"><%= notice %></div>
        <% end %>
        <% if alert %>
          <div class="alert alert-danger"><%= alert %></div>
        <% end %>

        <%# üîç Ê§úÁ¥¢„Éï„Ç©„Éº„É†Ôºö„Ç§„É≥„É©„Ç§„É≥ÂΩ¢Âºè„Å´„Åó„Å¶„Çπ„ÉÉ„Ç≠„É™„Åï„Åõ„Çã %>
        <% if user_signed_in? %>
          <div class="search_form mb-4 p-3 bg-white rounded shadow-sm">
            <%= form_with url: search_path, local: true, method: :get, class: 'form-inline justify-content-center' do |f| %>
              <%= f.text_field :word, placeholder: "Ê§úÁ¥¢„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ", class: 'form-control mr-2' %>
              <%= f.select :range, options_for_select([['„É¶„Éº„Ç∂„Éº', 'User'], ['ÊäïÁ®ø', 'Post']]), {}, class: 'form-control mr-2' %>
              <%= f.select :search, options_for_select([["ÂÆåÂÖ®‰∏ÄËá¥","perfect_match"], ["ÂâçÊñπ‰∏ÄËá¥","forward_match"], ["ÂæåÊñπ‰∏ÄËá¥","backward_match"], ["ÈÉ®ÂàÜ‰∏ÄËá¥","partial_match"]]), {}, class: 'form-control mr-2' %>
              <%= f.submit "Ê§úÁ¥¢", class: "btn btn-info" %>
            <% end %>
          </div>
        <% end %>
      </div>
    </header>

    <%# „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑÔºöcontainer„ÅßÂõ≤„ÇÄ„Åì„Å®„ÅßÂ∑¶Âè≥„Å´ÈÅ©Âàá„Å™‰ΩôÁôΩ„Åå„Åß„Åç„Çã %>
    <main class="container mb-5">
      <%= yield %>
    </main>
    
  </body>
</html>